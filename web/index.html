<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Fillico - Application de filigranage d'images et PDF avec style Kawaii Pop"
    />
    <title>üç≠ Fillico - Filigraner Illico!</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/images/mascot.png" />

    <!-- Scripts -->
    <script src="js/bg-assets.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="css/variables.css" />
    <link rel="stylesheet" href="css/components.css" />
    <link rel="stylesheet" href="css/layout.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- Header -->
      <header class="app-header">
        <div class="app-logo">
          <img src="assets/images/logo.png" alt="Fillico Logo" />
        </div>
      </header>

      <!-- Main Content -->
      <main class="app-main">
        <div class="main-content">
          <!-- Card Principale: Fichiers + Configuration -->
          <section class="card card-pink">
            <h2 class="section-title"><span>üìÇ</span> Vos fichiers</h2>
            <div id="dropZone" class="drop-zone">
              <div class="app-mascot">
                <img
                  id="mascot"
                  class="mascot idle"
                  src="assets/images/stamp_1.png"
                  alt="Mascotte Fillico"
                />
              </div>
              <span class="drop-zone-text">Glissez vos fichiers ici</span>
              <span class="drop-zone-hint">ou cliquez pour s√©lectionner</span>
              <span class="drop-zone-formats"
                >PNG, JPG, JPEG, BMP, GIF, PDF</span
              >
              <input
                type="file"
                id="fileInput"
                class="visually-hidden"
                accept=".png,.jpg,.jpeg,.bmp,.gif,.pdf"
                multiple
              />
            </div>

            <!-- File List -->
            <div id="fileList" class="file-list hidden"></div>

            <!-- S√©parateur -->
            <hr style="border: none; border-top: 2px dashed var(--cotton-candy); margin: var(--space-4) 0;">

            <!-- Configuration int√©gr√©e -->
            <h2 class="section-title"><span>‚öôÔ∏è</span> Configuration</h2>

            <!-- Texte du filigrane -->
            <div class="form-group">
              <label class="label" for="watermarkText">Texte du filigrane</label>
              <input
                type="text"
                id="watermarkText"
                class="input"
                placeholder="Ex: CONFIDENTIEL"
                value="CONFIDENTIEL"
              />
            </div>

            <!-- Opacit√© (cach√©) -->
            <div class="form-group" style="margin-top: var(--space-4); display: none">
              <label class="label" for="opacitySlider">
                Opacit√©: <span id="opacityValue">50</span>%
              </label>
              <input
                type="range"
                id="opacitySlider"
                min="10"
                max="90"
                value="20"
                style="width: 100%"
              />
            </div>

            <!-- Dossier de sortie -->
            <div class="form-group" style="margin-top: var(--space-4)">
              <label class="label" for="outputFolder">Dossier de sortie</label>
              <div style="display: flex; gap: 8px">
                <input
                  type="text"
                  id="outputFolder"
                  class="input"
                  placeholder="Dossier du fichier original"
                  style="flex: 1"
                  readonly
                />
                <button
                  type="button"
                  id="browseOutputBtn"
                  class="btn btn-secondary"
                  title="Parcourir"
                >
                  üìÅ
                </button>
              </div>
              <small style="color: var(--magic-berry); font-size: 0.75rem; margin-top: 4px; display: block">
                Auto-d√©tect√© depuis vos fichiers ‚Ä¢ Cliquez üìÅ pour changer
              </small>
            </div>

            <!-- Bouton d'action -->
            <button id="processBtn" class="btn btn-primary btn-lg" style="margin-top: var(--space-4); width: 100%;" disabled>
              <span>üç¨</span> Filigraner Illico!
            </button>
          </section>

          <!-- Results Zone -->
          <section id="resultsSection" class="card hidden">
            <h2 class="section-title"><span>‚ú®</span> R√©sultats</h2>

            <div id="resultsList" class="file-list"></div>
          </section>

          <!-- Progression (cach√© par d√©faut) -->
          <div id="progressSection" class="card hidden">
            <div class="progress-bar">
              <div
                id="progressFill"
                class="progress-bar-fill"
                style="width: 0%"
              ></div>
            </div>
            <p
              id="progressText"
              style="text-align: center; margin-top: var(--space-2)"
            >
              Traitement en cours...
            </p>
          </div>
        </div>
      </main>
    </div>

    <!-- Scripts -->
    <script type="text/javascript" src="/eel.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
